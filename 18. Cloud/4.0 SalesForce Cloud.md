# Index
- [[Cloud]]
	- [[1.0 Amazon Web Service (AWS)]]
	- [[2.0 Microsoft Azure]]
	- [[3.0 Google Cloud Services (GCS)]]
	- [[4.0 SalesForce Cloud]]

# Summary
- **Service Name:** Salesforce Cloud
- **Category:** Cloud Computing Platform
- **Components:** Sales Cloud, Service Cloud, Marketing Cloud, Commerce Cloud, Community Cloud, Analytics Cloud, IoT Cloud, App Cloud, and more.

## Salesforce Cloud Overview
Salesforce Cloud is a comprehensive and widely adopted cloud platform that offers a range of Customer Relationship Management (CRM) services. These services can be accessed over the internet and are provided on a subscription basis. Salesforce helps businesses scale and grow by providing reliable, scalable, and customizable CRM solutions.

Salesforce is a cloud computing platform that provides a mix of SaaS (Software as a Service) and PaaS (Platform as a Service). It offers a wide array of global cloud-based products including sales automation, customer service and support, marketing automation, analytics, and application development.

## How Salesforce Cloud Works
Salesforce operates through a global network of data centers managed by Salesforce. These data centers are organized into instances and regions. Each instance is a separate geographic area, and each region has multiple isolated locations known as availability zones. This structure provides high availability, fault tolerance, and scalability.

1. **Global Infrastructure:**
    - **Instances:** Geographic locations around the world where Salesforce clusters its data centers.
    - **Availability Zones (AZs):** Multiple, isolated locations within each instance. They provide redundancy and fault tolerance.
    
2. **Services and Resources:**
    - **Sales Cloud:** Automates sales processes and customer interactions.
    - **Service Cloud:** Provides customer service and support solutions.
    - **Marketing Cloud:** Manages marketing campaigns and customer journeys.
    - **Commerce Cloud:** Delivers e-commerce solutions for both B2C and B2B customers.
    - **Community Cloud:** Connects customers, partners, and employees with branded communities.
    - **Analytics Cloud:** Provides business intelligence and analytics capabilities.
    - **IoT Cloud:** Connects IoT devices and processes data from them.
    - **App Cloud:** Develops and deploys custom applications on the Salesforce platform.

## Key Salesforce Services

### Sales Cloud

1. **Lead Management:**    
    - Tracks and manages potential sales leads.
    - Automates lead capture, tracking, and follow-up processes.
    - **Configuration:**
        - Customizable lead fields, assignment rules, and lead scoring.
        - **Example:** Creating a lead assignment rule:

```
{
  "name": "Assign to Sales Team",
  "ruleEntries": [
    {
      "criteria": "LeadSource = 'Web'",
      "action": "Assign to Team A"
    },
    {
      "criteria": "LeadSource = 'Trade Show'",
      "action": "Assign to Team B"
    }
  ]
}
```

2. **Opportunity Management:**
- Manages sales opportunities and tracks their progress through the sales pipeline.
- Provides tools for forecasting and sales analytics.
- **Configuration:**
    - Customizable opportunity stages, fields, and workflows.
    - **Example:** Creating an opportunity stage:

```
{
  "name": "Proposal",
  "probability": 50,
  "forecastCategory": "Pipeline"
}
```

3. **Account and Contact Management:**
- Manages customer accounts and contacts.
- Provides a 360-degree view of customer interactions and history.
- **Configuration:**
    - Customizable account and contact fields, hierarchies, and relationship mappings.
    - **Example:** Creating a custom contact field:

```
{
  "label": "Customer Since",
  "type": "Date",
  "apiName": "Customer_Since__c"
}
```

### Service Cloud

1. **Case Management:**    
    - Tracks and manages customer service cases.
    - Automates case routing, escalation, and resolution processes.
    - **Configuration:**
        - Customizable case fields, assignment rules, and escalation rules.
        - **Example:** Creating a case escalation rule:

```
{
  "name": "High Priority Cases",
  "ruleEntries": [
    {
      "criteria": "Priority = 'High'",
      "action": "Escalate to Manager"
    }
  ]
}
```

2. **Knowledge Management:**
	- Provides a centralized knowledge base for customer service agents and customers.
	- Supports knowledge article creation, management, and search.
	- **Configuration:**
	    - Customizable knowledge article types, categories, and access controls.
	    - **Example:** Creating a knowledge article type:

```
{
  "name": "Troubleshooting Guide",
  "fields": [
    {
      "label": "Issue",
      "type": "Text",
      "apiName": "Issue__c"
    },
    {
      "label": "Resolution",
      "type": "RichText",
      "apiName": "Resolution__c"
    }
  ]
}
```

3. **Omni-Channel Routing:**
	- Distributes customer service work items to agents based on their availability and skill sets.
	- Provides real-time monitoring and reporting of agent activity and workload.
	- **Configuration:**
	    - Customizable routing rules, queues, and agent profiles.
	    - **Example:** Creating an Omni-Channel routing rule:

```
{
  "name": "Route High Priority Cases",
  "criteria": "Priority = 'High'",
  "queue": "High Priority Queue"
}
```

### Marketing Cloud

1. **Email Marketing:**    
    - Designs and executes email marketing campaigns.
    - Provides tools for segmentation, personalization, and analytics.
    - **Configuration:**
        - Customizable email templates, journeys, and automation rules.
        - **Example:** Creating an email automation rule:

```
{
  "name": "Welcome Email",
  "trigger": "New Subscriber",
  "actions": [
    {
      "type": "Send Email",
      "emailTemplate": "Welcome_Template"
    }
  ]
}
```

2. **Social Media Marketing:**
	- Manages social media campaigns and engagements.
	- Provides tools for social listening, publishing, and analytics.
	- **Configuration:**    
	    - Customizable social media profiles, campaigns, and automation rules.
	    - **Example:** Creating a social media campaign:

```
{
  "name": "Product Launch",
  "channels": ["Twitter", "Facebook"],
  "content": [
    {
      "type": "Post",
      "message": "Check out our new product!",
      "image": "product.jpg"
    }
  ]
}
```

3. **Customer Journey Management:**
	- Designs and automates customer journeys across multiple channels.
	- Provides tools for journey mapping, automation, and analytics.
	- **Configuration:**
	    - Customizable journey stages, triggers, and actions.
	    - **Example:** Creating a customer journey:

```
{
  "name": "Onboarding Journey",
  "stages": [
    {
      "name": "Welcome",
      "trigger": "New Customer",
      "actions": [
        {
          "type": "Send Email",
          "emailTemplate": "Welcome_Email"
        }
      ]
    },
    {
      "name": "Follow-Up",
      "trigger": "7 Days After Welcome",
      "actions": [
        {
          "type": "Send SMS",
          "smsTemplate": "Follow_Up_SMS"
        }
      ]
    }
  ]
}
```

### Commerce Cloud

1. **B2C Commerce:**    
    - Provides e-commerce solutions for B2C (business-to-consumer) customers.
    - Supports storefront design, product management, and order processing.
    - **Configuration:**
        - Customizable storefront templates, product catalogs, and checkout processes.
        - **Example:** Creating a product catalog:

```
{
  "name": "Summer Collection",
  "products": [
    {
      "name": "T-Shirt",
      "price": 19.99,
      "sku": "TSHIRT001"
    },
    {
      "name": "Shorts",
      "price": 29.99,
      "sku": "SHORTS001"
    }
  ]
}
```

2. **B2B Commerce:**
	- Provides e-commerce solutions for B2B (business-to-business) customers.
	- Supports account management, product pricing, and order processing.
	- **Configuration:**
	    - Customizable account hierarchies, pricing rules, and approval workflows.
	    - **Example:** Creating a pricing rule:

```
{
  "name": "Volume Discount",
  "criteria": "Quantity >= 100",
  "discount": 10
}
```

3. **Order Management:**
	- Manages the entire order lifecycle from capture to fulfillment.
	- Provides tools for order processing, inventory management, and customer service.
	- **Configuration:**
	    - Customizable order workflows, inventory rules, and service level agreements (SLAs).
	    - **Example:** Creating an order workflow:

```
{
  "name": "Standard Order Workflow",
  "steps": [
    {
      "name": "Order Received",
      "action": "Notify Customer"
    },
    {
      "name": "Order Processed",
      "action": "Update Inventory"
    },
    {
      "name": "Order Shipped",
      "action": "Send Shipping Confirmation"
    }
  ]
}
```

### Analytics Cloud

1. **Sales Analytics:**    
    - Provides analytics and reporting for sales data.
    - Supports customizable dashboards, reports, and data visualization.
    - **Configuration:**
        - Customizable report types, filters, and visualization options.
        - **Example:** Creating a sales dashboard:

```
{
  "name": "Sales Performance",
  "widgets": [
    {
      "type": "BarChart",
      "data": "Sales by Region",
      "xAxis": "Region",
      "yAxis": "Revenue"
    },
    {
      "type": "PieChart",
      "data": "Sales by Product",
      "values": "Product",
      "labels": "Revenue"
    }
  ]
}
```

2. **Service Analytics:**
	- Provides analytics and reporting for customer service data.
	- Supports customizable dashboards, reports, and data visualization.
	- **Configuration:**
	    - Customizable report types, filters, and visualization options.
	    - **Example:** Creating a service dashboard:

```
{
  "name": "Service Performance",
  "widgets": [
    {
      "type": "LineChart",
      "data": "Cases Over Time",
      "xAxis": "Date",
      "yAxis": "Number of Cases"
    },
    {
      "type": "HeatMap",
      "data": "Case Resolution Time",
      "xAxis": "Agent",
      "yAxis": "Resolution Time"
    }
  ]
}
```

3. **Einstein Analytics:**
	- Provides AI-powered analytics and insights.
	- Supports predictive analytics, data exploration, and visualization.
	- **Configuration:**
	    - Customizable predictive models, dashboards, and data integration.
	    - **Example:** Creating a predictive model:

```
{
  "name": "Lead Scoring Model",
  "features": ["Lead Source", "Industry", "Annual Revenue"],
  "target": "Conversion",
  "algorithm": "Logistic Regression"
}
```

### App Cloud

1. **Salesforce Platform:**    
    - Develops and deploys custom applications on the Salesforce platform.
    - Supports declarative development, programmatic development, and third-party integrations.
    - **Configuration:**
        - Customizable data models, business logic, and user interfaces.
        - **Example:** Creating a custom object:

```
{
  "label": "Project",
  "pluralLabel": "Projects",
  "fields": [
    {
      "label": "Project Name",
      "type": "Text",
      "apiName": "Project_Name__c"
    },
    {
      "label": "Start Date",
      "type": "Date",
      "apiName": "Start_Date__c"
    }
  ]
}
```

2. **Heroku:**
	- Develops, deploys, and scales applications on Heroku, a platform as a service (PaaS) offering.
	- Supports multiple programming languages, databases, and add-ons.
	- **Configuration:**
	    - Customizable application environments, buildpacks, and add-ons.
	    - **Example:** Creating a Heroku app:

```
heroku create my-app
git push heroku master
```

3. **MuleSoft:**
	- Integrates applications, data, and devices with MuleSoft, an integration platform.
	- Supports API management, data integration, and application integration.
	- **Configuration:**
	    - Customizable APIs, connectors, and integration flows.
	    - **Example:** Creating an API with MuleSoft:

```
{
  "name": "Customer API",
  "endpoints": [
    {
      "method": "GET",
      "path": "/customers",
      "response": {
        "type": "application/json",
        "schema": "CustomerSchema"
      }
    }
  ]
}
```

## Salesforce Example Use Case

### Customer Relationship Management (CRM)

1. **Lead Management:**    
    - Tracks and manages potential sales leads.
    - **Configuration:**
        - Set up lead assignment rules and lead scoring models.
        - **Example:** Creating a lead assignment rule:

```
{
  "name": "Assign to Sales Team",
  "ruleEntries": [
    {
      "criteria": "LeadSource = 'Web'",
      "action": "Assign to Team A"
    },
    {
      "criteria": "LeadSource = 'Trade Show'",
      "action": "Assign to Team B"
    }
  ]
}
```

2. **Opportunity Management:**
	- Manages sales opportunities and tracks their progress through the sales pipeline.
	- **Configuration:**
	    - Set up opportunity stages and workflows.
	    - **Example:** Creating an opportunity stage:

```
{
  "name": "Proposal",
  "probability": 50,
  "forecastCategory": "Pipeline"
}
```

3. **Case Management:**
	- Tracks and manages customer service cases.
	- **Configuration:**
	    - Set up case assignment and escalation rules.
	    - **Example:** Creating a case escalation rule:

```
{
  "name": "High Priority Cases",
  "ruleEntries": [
    {
      "criteria": "Priority = 'High'",
      "action": "Escalate to Manager"
    }
  ]
}
```

4. **Account and Contact Management:**
	- Manages customer accounts and contacts.
	- **Configuration:**
	    - Set up custom account and contact fields and relationship mappings.
	    - **Example:** Creating a custom contact field:

```
{
  "label": "Customer Since",
  "type": "Date",
  "apiName": "Customer_Since__c"
}
```

5. **Knowledge Management:**
	- Provides a centralized knowledge base for customer service agents and customers.
	- **Configuration:**
	    - Set up knowledge article types and access controls.
	    - **Example:** Creating a knowledge article type:

```
{
  "name": "Troubleshooting Guide",
  "fields": [
    {
      "label": "Issue",
      "type": "Text",
      "apiName": "Issue__c"
    },
    {
      "label": "Resolution",
      "type": "RichText",
      "apiName": "Resolution__c"
    }
  ]
}
```

6. **Email Marketing:**
	- Designs and executes email marketing campaigns.
	- **Configuration:**
	    - Set up email templates and automation rules.
	    - **Example:** Creating an email automation rule:

```
{
  "name": "Welcome Email",
  "trigger": "New Subscriber",
  "actions": [
    {
      "type": "Send Email",
      "emailTemplate": "Welcome_Template"
    }
  ]
}
```

# Additional Information

## Configuration Files

Lead Assignment Rule Example

```
{
  "name": "Assign to Sales Team",
  "ruleEntries": [
    {
      "criteria": "LeadSource = 'Web'",
      "action": "Assign to Team A"
    },
    {
      "criteria": "LeadSource = 'Trade Show'",
      "action": "Assign to Team B"
    }
  ]
}
```

Opportunity Stage Example

```
{
  "name": "Proposal",
  "probability": 50,
  "forecastCategory": "Pipeline"
}
```

Case Escalation Rule Example

```
{
  "name": "High Priority Cases",
  "ruleEntries": [
    {
      "criteria": "Priority = 'High'",
      "action": "Escalate to Manager"
    }
  ]
}
```

## Potential Misconfigurations

- **Open Sharing Settings:** Publicly accessible data can lead to data leakage.
- **Overly Permissive Profiles and Roles:** Using broad permissions can grant excessive access.
- **Inadequate Validation Rules:** Not implementing proper validation rules can lead to data inconsistencies.
- **Weak Password Policies:** Using weak password policies can expose user accounts to attacks.
- **Unencrypted Data:** Failing to encrypt data at rest and in transit can expose sensitive information.

## Default Credentials

- **Salesforce accounts should never use default credentials:** Always create individual users with specific permissions.
- **Rotate User Passwords:** Regularly rotate user passwords to minimize the risk of credential leakage.
- **Use Profiles and Roles:** Assign appropriate profiles and roles to users instead of using broad permissions.

# Interaction and Tools

## Reconnaissance and Enumeration Tools

- **Salesforce CLI:** Command-line tool to interact with Salesforce services.

```
sfdx force:org:list sfdx force:data:soql:query -q "SELECT Name FROM Account"
```

- **Workbench:** Web-based suite of tools for interacting with Salesforce.
- **Salesforce Inspector:** Browser extension for inspecting Salesforce data and metadata.

## Vulnerability Scanning Tools

- **Nessus:** Vulnerability scanner that can scan Salesforce environments for common vulnerabilities.
- **Salesforce Security Scanner:** A tool provided by Salesforce for assessing the security of your Salesforce environment.

## Exploitation Tools

- **Metasploit:** Framework for developing and executing exploit code.
- **Salesforce Data Loader:** Tool for bulk importing and exporting data.
- **Salesforce DX:** Tools for development and deployment of Salesforce applications.

## Monitoring and Logging Tools

- **Event Monitoring:** Salesforce service that logs user activity.
- **Field Audit Trail:** Tracks changes to Salesforce records.
- **Shield Platform Encryption:** Provides encryption for Salesforce data.

# Common Exploits

- **Phishing Attacks:**    
    - **Objective:** Gain access to user credentials through deceptive emails or websites.
    - **Method:** Sending phishing emails that mimic legitimate Salesforce notifications.
    - **Mitigation:** Educate users about phishing attacks, use multi-factor authentication (MFA), and implement email filtering.
		- Case Study: Phishing Attack
			- **Scenario:** A user receives a phishing email that appears to be from Salesforce, asking them to log in to verify their account.
			- **Exploit:** The user clicks the link and enters their credentials on a fake Salesforce login page, which the attacker then captures.
			- **Mitigation:** Educate users about phishing, implement MFA, and use email filtering to detect phishing attempts.

- **Session Hijacking:**    
    - **Objective:** Take over a user's active session to gain unauthorized access.
    - **Method:** Capturing session cookies through various techniques like MITM attacks.
    - **Mitigation:** Use secure cookies, enforce HTTPS, and implement session timeout policies.
    
- **Data Exfiltration via APIs:**    
    - **Objective:** Extract sensitive data using Salesforce APIs.
    - **Method:** Exploiting weak API security or using stolen API keys.
    - **Mitigation:** Restrict API access, use OAuth for API authentication, and monitor API usage.

- **SOQL Injection:**    
    - **Objective:** Inject malicious SOQL (Salesforce Object Query Language) queries to access unauthorized data.
    - **Method:** Exploiting input fields that directly use user input in SOQL queries.
    - **Example:** Injecting SOQL through a vulnerable web form.

```
' OR Name LIKE '%Admin%'
```

- **Mitigation:** Use parameterized queries and input validation.
	- Case Study: SOQL Injection
		- **Scenario:** An application allows users to search for accounts by name but directly includes user input in a SOQL query.
		- **Exploit:** An attacker enters a crafted input that modifies the SOQL query to return all accounts.
		- **Mitigation:** Use parameterized queries and validate user input to prevent injection attacks.

- **Insecure Direct Object References (IDOR):**    
    - **Objective:** Access unauthorized records by manipulating object identifiers.
    - **Method:** Changing record IDs in URLs or API requests to access different records.
    - **Example:** Modifying the record ID in a URL to access another user's data.
    
```
https://my.salesforce.com/0035g00000XXXXX
```

   - **Mitigation:** Implement access controls and validate object IDs.

- **Cross-Site Scripting (XSS):**    
    - **Objective:** Inject malicious scripts into web pages viewed by other users.
    - **Method:** Exploiting input fields that do not properly sanitize user input.
    - **Example:** Injecting a script through a vulnerable form field.
    
```
<script>alert('XSS');</script>
```

- **Mitigation:** Use input sanitization and output encoding.